<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bootstrap Visualizer</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Bootstrap Visualizer</h1>
    <p>Explore bootstrap sampling distributions and confidence intervals in real time.</p>
  </header>

  <main>
    <!-- LEFT: Controls -->
    <section id="controls">
      <h2>1. Data generation</h2>
      <label for="dist-select">Distribution:</label>
      <select id="dist-select">
        <option value="lognormal">Skewed (lognormal)</option>
        <option value="normal">Normal</option>
        <option value="gamma">Gamma (2,2)</option>
      </select>

      <label for="n-slider">Sample size: <span id="n-value">50</span></label>
      <input type="range" id="n-slider" min="10" max="500" value="50" />

      <button id="generate-sample-btn">Generate sample</button>

      <hr />

      <h2>2. Bootstrap settings</h2>
      <p>Statistics: <strong>mean</strong> and <strong>variance</strong></p>

      <label for="resamples-input">Run N resamples:</label>
      <input type="number" id="resamples-input" value="100" min="1" max="10000" />

      <div id="bootstrap-buttons">
        <button id="step-btn">Step 1 resample</button>
        <button id="run-many-btn">Run N resamples</button>
        <button id="auto-start-btn">Auto play</button>
        <button id="auto-stop-btn">Stop</button>
        <button id="reset-btn">Reset bootstrap</button>
      </div>
    </section>

    <!-- RIGHT: Plots & results -->
    <section id="visuals">

      <!-- Original sample (top) -->
      <div class="plot-block plot-full">
        <h2>Original sample</h2>
        <canvas id="sample-chart"></canvas>
      </div>

      <!-- Bootstrap plots (two below) -->
      <div class="plot-row">
        <div class="plot-block plot-half">
          <h2>Bootstrap distribution of the mean</h2>
          <canvas id="bootstrap-chart"></canvas>
        </div>

        <div class="plot-block plot-half">
          <h2>Bootstrap distribution of the variance</h2>
          <canvas id="bootstrap-var-chart"></canvas>
        </div>
      </div>

      <div id="results">
        <h2>Comparison table</h2>
        <p>n = <span id="sample-n">-</span> &nbsp; | &nbsp; Resamples = <span id="n-resamples">0</span></p>

        <table id="compare-table">
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Empirical</th>
              <th>Bootstrap estimate</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Mean</td>
              <td><span id="cmp-mean-emp">-</span></td>
              <td><span id="cmp-mean-boot">-</span></td>
            </tr>
            <tr>
              <td>Variance</td>
              <td><span id="cmp-var-emp">-</span></td>
              <td><span id="cmp-var-boot">-</span></td>
            </tr>
            <tr>
              <td>Normal-based 95% CI (mean)</td>
              <td><span id="cmp-ci-mean-normal-emp">[ -, - ]</span></td>
              <td><span id="cmp-ci-mean-normal-boot">[ -, - ]</span></td>
            </tr>
            <tr>
              <td>Normal-based 95% CI (variance)</td>
              <td><span id="cmp-ci-var-normal-emp">[ -, - ]</span></td>
              <td><span id="cmp-ci-var-normal-boot">[ -, - ]</span></td>
            </tr>
            <tr>
              <td>Percentile 95% CI (mean)</td>
              <td><span id="cmp-ci-mean-pct-emp">-</span></td>
              <td><span id="cmp-ci-mean-pct-boot">[ -, - ]</span></td>
            </tr>
            <tr>
              <td>Percentile 95% CI (variance)</td>
              <td><span id="cmp-ci-var-pct-emp">-</span></td>
              <td><span id="cmp-ci-var-pct-boot">[ -, - ]</span></td>
            </tr>
          </tbody>
        </table>

        <div id="interpretation">
          <p>Generate a sample and start bootstrapping to see explanations here.</p>
        </div>
      </div>

    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
